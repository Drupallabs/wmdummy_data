services:
  plugin.manager.dummy_data:
    class: Drupal\wmdummy_data\DummyDataManager
    parent: default_plugin_manager

  wmdummy_data.dummy_data_generator:
    class: Drupal\wmdummy_data\Service\Generator\DummyDataGenerator
    arguments:
      - '@entity_type.manager'
      - '@entity_field.manager'
      - '@plugin.manager.dummy_data'
      - '@state'
      - '@language_manager'
    calls:
      - [setContentManager, ['@?wmcontent.manager']]

  wmdummy_data.faker.factory:
    class: Drupal\wmdummy_data\Faker\Factory
    arguments:
      - '@entity_type.manager'
      - '@language_manager'
      - '@config.factory'
      - '@wmdummy_data.dummy_data_generator'

  wmdummy_data.faker.generator:
    class: Faker\Generator
    factory: wmdummy_data.faker.factory:create

  wmdummy_data.faker.provider.drupal_entity:
    class: Drupal\wmdummy_data\Faker\Provider\DrupalEntity
    arguments:
      - '@entity_type.manager'
      - '@language_manager'
      - '@wmdummy_data.faker.factory'
      - '@wmdummy_data.dummy_data_generator'
